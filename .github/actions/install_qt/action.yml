name: Download Qt
description: Download Qt from GitHub release page

inputs:
  url:
    required: true
    type: string
  dir:
    required: false
    type: string
    default: ${{ github.workspace }}/qt

outputs:
  install_dir:
    description: "Installation directory"
    value: ${{ steps.install.outputs.install_dir }}

runs:
  using: "composite"
  steps:
    - name: Download and install
      id: install
      shell: bash
      run: |
        curl -L ${{ inputs.url }} --output qt.tar.gz
        tar -xzf qt.tar.gz -C ${{ inputs.dir }}
        echo "install_dir=${{ inputs.dir }}" | tee -a $GITHUB_OUTPUT

